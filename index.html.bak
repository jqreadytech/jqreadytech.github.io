<!DOCTYPE html>
<head>
	<title>Drag-n-Drop</title>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script type="module" src="https://cdn.jsdelivr.net/npm/sortablejs@1.8.4/Sortable.min.js"></script>
    <!--<script type="module" src="https://cdnjs.cloudflare.com/ajax/libs/Vue.Draggable/2.20.0/vuedraggable.umd.min.js"></script>-->
</head>
<body>
  <div id="dragNdrop" class="dragNdrop">
    <div class="divTitle">
			<h2>Drag n Drop</h2>
			<span>ver 0.1</span>
		</div>
    <div>
      {{ message }}
      <button @click="count++">
        Count is: {{ count }}
      </button>
      <div id="div1" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
      <div v-for="element in list" :key="element">
        <p :id="element.id" draggable="true" ondragstart="drag(event)">{{element.name}}</p>
      </div>
      <div id="div2" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
      <pre>{{ list }}</pre>
    </div>
	</div>

  <script>
    const { createApp, ref } = Vue

    const app = createApp({
      setup() {
        const message = 'Hello vue!'
        data: {
          return {
            message,
            count: ref(0),
            drag: ref(false),
            list: [
                { name: "John", id: 0 },
                { name: "Joao", id: 1 },
                { name: "Jean", id: 2 }
            ],
          }
        }
      }
    }).mount('#dragNdrop')
  </script>

  <script>
    function allowDrop(ev) {
      ev.preventDefault();
    }

    function drag(ev) {
      ev.dataTransfer.setData("Text", ev.target.id);
    }

    function drop(ev) {
      let data = ev.dataTransfer.getData("Text");
      ev.target.appendChild(document.getElementById(data));
      ev.preventDefault();
    }
  </script>

  <style>
    html {
      font-family: Helvetica, Arial, sans-serif;
    }
    h2 {
      text-align: center;
    }
    .dragNdrop {
      width: "320px";
      height: "auto";
      display: flex;
      flex-direction: column;
      flex-wrap: wrap;
      align-content: center;
      margin: 0 auto;
    }
    .divTitle {
      display: flex;
      flex-direction: row;
      justify-content: center;
      width: 100%;
    }
    #div1 {
      width: 100px;
      height: 100px;
      padding: 10px;
      border: 1px solid #aaaaaa;
    }
    #div2 {
      width: 100px;
      height: 100px;
      padding: 10px;
      border: 1px solid #bbbbbb;
    }
  </style>
</body>
</html>
